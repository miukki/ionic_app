<ion-view title="Subs Available">

  <ion-nav-buttons side="left">
    <!-- Sub Menu -->
    <button class="button button-icon" ng-click="toggleMenu(stateMenu)">
      <i class="icon ion-navicon"></i>
    </button>
  </ion-nav-buttons>

  <ion-nav-buttons side="right">
    <button class="button icon-left ion-home" ui-sref="index"></button>
  </ion-nav-buttons>


  <ion-content padding="true">

    <div ng-show="(error && error != '') || subsCl.length == 0" class="ng-hide card" >
      <div class="item item-text-wrap assertive">
        {{error}}
      </div>
    </div>



    <div ng-class="{'ng-hide': subsCl.length == 0}">

      <form ng-submit="newPost()">

        <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()"></ion-refresher>

        <ion-toggle ng-repeat="item in subsCl" ng-class="{'balanced-bg': item.assigned, 'assertive-bg': item.assigned ===false}" ng-model="item.choosen" toggle-class="toggle-calm">
          {{(item.classGroup ? item.classGroup.serviceTypeCode + ' ' + item.classGroup.levelCode : '') + ' ' + item.day + ' ' + item.month + ' ' + item.time + ' NYT'}}
        </ion-toggle>


        <ion-infinite-scroll
          ng-if="moreDataCanBeLoaded(shift)"
          on-infinite="loadMoreData()"
          distance="1%"
        >
        </ion-infinite-scroll>

        <button type="submit" class="button button-block button-positive" ng-disabled="isDisabled">Submit</button>


      </form>

      <button ng-disabled="isDisabled" class="button button-block button-light" ng-click="toggleClaim(toggle=!toggle)">{{toggle ? 'Check all':'Uncheck all' }}</button>

    </div>


   </ion-content>
</ion-view>
